# Task Summary
提供收貨作業後端行為：收貨列表（含排序）、運務回報回廠下貨、回報位置/時間、下貨碼頭選擇與候選排除、配送點總表與收貨明細的讀寫。

# Source Spec
- analysis_context/spec/00-overview.spec.md（收貨作業管理、即時同步）
- analysis_context/spec/03-backend.spec.md（收貨作業管理責任、收貨類型判斷、明細規則）

# Responsibility
- Backend：收貨作業資料提供、狀態更新與明細寫入驗證。

# Acceptance Criteria
- 後端提供收貨列表查詢，並支援排序規則：先回廠下貨再接貨中，同狀態依回報時間新到舊。
- 後端可接收運務 App 回報「回廠下貨」並更新狀態，並提供回報位置與時間給前台。
- 後端提供下貨碼頭候選清單並排除已選定出貨/下貨碼頭，並支援保存選擇結果。
- 後端提供配送點總表（含收貨類型：入庫分貨/越庫作業）。
- 後端提供收貨明細讀寫：
  - 入庫分貨：實收數量/有效日期多組資料；刪除時最少保留一組
  - 越庫作業：實收板位/備註與多組資料；刪除時最少保留一組
- 後端對寫入資料進行基本驗證（例如數量不得為負、多組資料最少保留一組）。

# Notes
- 收貨明細「進入時間」來源在 spec 中標示未定義。
